<style>
    .card-project { background: #2d2d44; padding: 30px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); animation: slideUp 0.4s ease-out; }
    
    h1.judul-project { color: #7b68ee; cursor: pointer; display: inline-block; border-bottom: 2px solid transparent; transition: 0.3s; }
    h1.judul-project:hover { border-bottom-color: #7b68ee; color: white; }
    
    .btn-action { margin-top: 15px; padding: 10px 20px; border: 1px solid #7b68ee; background: transparent; color: #7b68ee; border-radius: 6px; cursor: pointer; transition: 0.3s; }
    .btn-action:hover { background: #7b68ee; color: white; }

    .chart-wrapper { position: relative; height: 400px; width: 100%; margin-top: 20px; }
    .hidden { display: none; }

    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
</style>

<div id="p1-summary" class="card-project">
    <div style="font-size: 0.85rem; color: #888; margin-bottom: 10px;">ID: #WMS-2024</div>
    
    <h1 class="judul-project" onclick="toggleP1()">Sistem Gudang & Logistik ↗</h1>
    
    <div style="margin: 20px 0;">
        <span style="background: rgba(255,255,255,0.1); padding: 4px 10px; border-radius: 20px; font-size: 0.8rem;">ReactJS</span>
        <span style="background: rgba(255,255,255,0.1); padding: 4px 10px; border-radius: 20px; font-size: 0.8rem;">NodeJS</span>
    </div>

    <p style="line-height: 1.6; color: #ccc;">
        Sistem manajemen gudang untuk mencatat barang masuk dan keluar secara realtime menggunakan QR Code.
        Berhasil mengurangi selisih stok hingga 95% dalam 3 bulan pertama.
    </p>

    <button class="btn-action" onclick="toggleP1()">Lihat Grafik Performa</button>
</div>

<div id="p1-chart" class="card-project hidden">
    <button class="btn-action" style="margin-top:0; margin-bottom:20px;" onclick="toggleP1()">← Kembali ke Summary</button>
    
    <h3>Statistik Barang Masuk</h3>
    <div class="chart-wrapper">
        <canvas id="canvasProject1"></canvas>
    </div>
</div>

<script>
    // Logic Pindah Tampilan
    function toggleP1() {
        const sum = document.getElementById('p1-summary');
        const chart = document.getElementById('p1-chart');
        
        if (sum.style.display === 'none') {
            sum.style.display = 'block';
            chart.style.display = 'none';
        } else {
            sum.style.display = 'none';
            chart.style.display = 'block';
            renderChartP1(); // Render chart saat dibuka
        }
    }

    // Logic Render Chart
    function renderChartP1() {
        // Cek dulu canvasnya ada atau tidak (untuk safety)
        const ctxElement = document.getElementById('canvasProject1');
        if(!ctxElement) return;

        // Hancurkan chart lama jika user bolak balik klik (biar gak error)
        if (window.myChart1 instanceof Chart) {
            window.myChart1.destroy();
        }

        window.myChart1 = new Chart(ctxElement, {
            type: 'line', 
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei'],
                datasets: [{
                    label: 'Efisiensi (%)',
                    data: [65, 70, 80, 85, 95],
                    borderColor: '#7b68ee',
                    backgroundColor: 'rgba(123, 104, 238, 0.2)',
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: 'white' } } },
                scales: {
                    y: { ticks: { color: '#aaa' }, grid: { color: '#444' } },
                    x: { ticks: { color: '#aaa' }, grid: { display: false } }
                }
            }
        });
    }
</script>